{
    "config": {
        "cols": {
            "lg": 12,
            "md": 10,
            "sm": 6,
            "xs": 4,
            "xxs": 2
        },
        "currentBreakpointForFlyoutWidgets": "lg",
        "currentBreakpointForPanes": "lg",
        "currentBreakpointsForWidgets": {
            "ef3e52f9-a5bc-47fb-8b87-e379bb780959": "lg"
        },
        "datasources": {
            "f640b04c-5d19-4a23-a802-7f8fcc0f1024": {
                "id": "f640b04c-5d19-4a23-a802-7f8fcc0f1024",
                "name": "alreadyRendered",
                "settings": {},
                "type": "LOCAL_DATASOURCE_PLUGIN"
            },
            "f8fa6778-49d7-4fa1-9a46-390681099b24": {
                "id": "f8fa6778-49d7-4fa1-9a46-390681099b24",
                "name": "Alerts",
                "settings": {
                    "CALL_ON_LOAD": true,
                    "SUPPRESS_DATASOURCE_ERRORS": false,
                    "collection_name": "AlertConfiguration",
                    "refresh_interval": 0
                },
                "type": "CB_COLLECTION"
            }
        },
        "externalScripts": [
            {
                "promise": {},
                "shouldBlockAllWidgets": false,
                "url": "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            },
            {
                "promise": {},
                "shouldBlockAllWidgets": false,
                "url": "https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            }
        ],
        "flyoutWidgetLayout": {
            "lg": [],
            "md": [],
            "sm": [],
            "xs": [],
            "xxs": []
        },
        "headerWidgetLayout": {
            "lg": [
                {
                    "h": 1,
                    "i": "brand",
                    "moved": false,
                    "static": false,
                    "w": 42,
                    "x": 0,
                    "y": 0
                },
                {
                    "h": 1,
                    "i": "title",
                    "moved": false,
                    "static": false,
                    "w": 46,
                    "x": 185,
                    "y": 0
                }
            ],
            "md": [
                {
                    "h": 1,
                    "i": "brand",
                    "moved": false,
                    "static": false,
                    "w": 36,
                    "x": 0,
                    "y": 0
                },
                {
                    "h": 1,
                    "i": "title",
                    "moved": false,
                    "static": false,
                    "w": 39,
                    "x": 154,
                    "y": 0
                }
            ],
            "sm": [
                {
                    "h": 1,
                    "i": "brand",
                    "moved": false,
                    "static": false,
                    "w": 34,
                    "x": 0,
                    "y": 0
                },
                {
                    "h": 1,
                    "i": "title",
                    "moved": false,
                    "static": false,
                    "w": 37,
                    "x": 117,
                    "y": 0
                }
            ],
            "xs": [
                {
                    "h": 1,
                    "i": "brand",
                    "moved": false,
                    "static": false,
                    "w": 28,
                    "x": 0,
                    "y": 0
                },
                {
                    "h": 1,
                    "i": "title",
                    "moved": false,
                    "static": false,
                    "w": 31,
                    "x": 71,
                    "y": 0
                }
            ],
            "xxs": [
                {
                    "h": 1,
                    "i": "brand",
                    "moved": false,
                    "static": false,
                    "w": 32,
                    "x": 0,
                    "y": 0
                },
                {
                    "h": 1,
                    "i": "title",
                    "moved": false,
                    "static": false,
                    "w": 33,
                    "x": 47,
                    "y": 0
                }
            ]
        },
        "pages": {
            "3891298d-a436-4b05-8265-3c8a710a501f": {
                "children": [],
                "defaultValue": "",
                "href": "",
                "id": "3891298d-a436-4b05-8265-3c8a710a501f",
                "isChild": false,
                "isParam": false,
                "name": "alerts",
                "path": ""
            },
            "Home": {
                "children": [],
                "defaultValue": "",
                "href": "",
                "id": "Home",
                "isChild": false,
                "isParam": false,
                "name": "Home",
                "path": ""
            }
        },
        "paneGridWidgetLayouts": {
            "ef3e52f9-a5bc-47fb-8b87-e379bb780959": {
                "lg": [
                    {
                        "h": 9,
                        "i": "6e46cac4-a3f4-405b-bb47-3bc37b0f31d1",
                        "minH": 3,
                        "w": 13,
                        "x": 0,
                        "y": 0
                    }
                ],
                "md": [],
                "sm": [],
                "xs": [],
                "xxs": []
            }
        },
        "paneLayouts": {
            "3891298d-a436-4b05-8265-3c8a710a501f": {
                "lg": [
                    {
                        "h": 2,
                        "i": "44a92502-d9c2-4f81-8e9a-325d2515f346",
                        "w": 12,
                        "x": 0,
                        "y": 0
                    }
                ],
                "md": [],
                "sm": [],
                "xs": [],
                "xxs": []
            },
            "Home": {
                "lg": [],
                "md": [],
                "sm": [],
                "xs": [],
                "xxs": []
            }
        },
        "panes": {
            "44a92502-d9c2-4f81-8e9a-325d2515f346": {
                "customPaneId": "",
                "header": {
                    "hide": false,
                    "title": ""
                },
                "hiddenBreakpoints": {},
                "hideBorders": false,
                "id": "44a92502-d9c2-4f81-8e9a-325d2515f346",
                "pageId": "3891298d-a436-4b05-8265-3c8a710a501f",
                "tabInfo": {
                    "activeTab": "ef3e52f9-a5bc-47fb-8b87-e379bb780959",
                    "tabIds": [
                        "ef3e52f9-a5bc-47fb-8b87-e379bb780959"
                    ],
                    "tabTitles": {
                        "ef3e52f9-a5bc-47fb-8b87-e379bb780959": "Double Click"
                    },
                    "tabbed": false
                },
                "themeType": "primary"
            }
        },
        "savedPortalExists": true,
        "theme": {
            "graph": {
                "four": "#E8E7C6",
                "one": "#6E8592",
                "three": "#DBA5A8",
                "two": "#6E93A8"
            },
            "info": {
                "display_name": "Standard",
                "name": "STANDARD_THEME"
            },
            "items": {
                "main": {
                    "header": {
                        "burgerBars": {
                            "fontColor": "#f5f5f5",
                            "visible": true
                        },
                        "dropdown": {
                            "fontColor": "#f5f5f5",
                            "fontFamily": "Helvetica",
                            "fontSize": 18
                        },
                        "styles": {
                            "backgroundColor": "#6e8592"
                        }
                    },
                    "panes": {
                        "flyout": {
                            "body": {
                                "backgroundColor": "#f5f5f5"
                            },
                            "header": {
                                "backgroundColor": "#6e8592"
                            }
                        },
                        "primary": {
                            "body": {
                                "backgroundColor": "#f5f5f5"
                            },
                            "header": {
                                "backgroundColor": "#6e8592",
                                "fontColor": "#000000",
                                "fontFamily": "Helvetica"
                            },
                            "tabs": {
                                "activeTabUnderlineColor": "#425864",
                                "backgroundColor": "#9db5c2",
                                "fontColor": "#000000"
                            }
                        },
                        "secondary": {
                            "body": {
                                "backgroundColor": "#f5f5f5"
                            },
                            "header": {
                                "backgroundColor": "#9db5c2",
                                "fontColor": "#000000",
                                "fontFamily": "Helvetica"
                            },
                            "tabs": {
                                "activeTabUnderlineColor": "#425864",
                                "backgroundColor": "#6e8592",
                                "fontColor": "#000000"
                            }
                        }
                    },
                    "portal": {
                        "styles": {
                            "backgroundColor": "#ffffff"
                        }
                    },
                    "widgets": {
                        "BAR_CHART_WIDGET_COMPONENT": {
                            "barColors": [
                                {
                                    "fill": "#6E8592"
                                },
                                {
                                    "fill": "#6E93A8"
                                },
                                {
                                    "fill": "#DBA5A8"
                                },
                                {
                                    "fill": "#E8E7C6"
                                }
                            ],
                            "brushStroke": "#6e8592",
                            "legendColor": "#000000"
                        },
                        "BUTTON_WIDGET_COMPONENT": {
                            "backgroundColor": "#f5f5f5",
                            "backgroundHoverColor": "#c2c2c2",
                            "borderColor": "#cccccc",
                            "fontColor": "#000000"
                        },
                        "FILTERABLE_LIST_WIDGET_COMPONENT": {
                            "activeItemBackgroundColor": "#6e8592",
                            "activeItemFontColor": "#ffffff",
                            "bulletColor": "#000000",
                            "fontColor": "#000000",
                            "listItemBackgroundColor": "#ffffff",
                            "titleColor": "#000000"
                        },
                        "FORM_WIDGET_COMPONENT": {
                            "cardBackgroundColor": "#f5f5f5",
                            "fontColor": "#000000",
                            "sliderColor": "#6E8592",
                            "titleColor": "#000000",
                            "toggleColor": "#6E8592"
                        },
                        "GOOGLE_MAP_WIDGET_COMPONENT": {
                            "mapTheme": ""
                        },
                        "GROUPING_LIST_WIDGET_COMPONENT": {
                            "activeItemBackgroundColor": "#6e8592",
                            "activeItemFontColor": "#ffffff",
                            "bulletColor": "#000000",
                            "fontColor": "#000000",
                            "listItemBackgroundColor": "#ffffff",
                            "titleColor": "#000000"
                        },
                        "LINE_CHART_WIDGET_COMPONENT": {
                            "brushStroke": "#6e8592",
                            "legendColor": "#000000",
                            "lineColors": [
                                {
                                    "stroke": "#6E8592"
                                },
                                {
                                    "stroke": "#6E93A8"
                                },
                                {
                                    "stroke": "#DBA5A8"
                                },
                                {
                                    "stroke": "#E8E7C6"
                                }
                            ]
                        },
                        "LIST_WIDGET_COMPONENT": {
                            "activeItemBackgroundColor": "#6e8592",
                            "activeItemFontColor": "#000000",
                            "fontColor": "#000000",
                            "listItemBackgroundColor": "#ffffff",
                            "titleColor": "#000000"
                        },
                        "PIE_CHART_WIDGET_COMPONENT": {
                            "cells": [
                                {
                                    "fill": "#6E8592"
                                },
                                {
                                    "fill": "#6E93A8"
                                },
                                {
                                    "fill": "#DBA5A8"
                                },
                                {
                                    "fill": "#E8E7C6"
                                }
                            ]
                        },
                        "RADIAL_GAUGE_WIDGET_COMPONENT": {
                            "backgroundColor": "#c2c2c2",
                            "progressColor": "#6e8592"
                        },
                        "SPEEDOMETER_WIDGET": {
                            "arrowColor": "#000000",
                            "sectionColors": [
                                {
                                    "fill": "#6E8592"
                                },
                                {
                                    "fill": "#6E93A8"
                                },
                                {
                                    "fill": "#DBA5A8"
                                },
                                {
                                    "fill": "#E8E7C6"
                                }
                            ]
                        },
                        "TEXT_WIDGET_COMPONENT": {
                            "fontColor": "#000000",
                            "fontFamily": "Helvetica",
                            "fontSize": 18
                        },
                        "TOGGLE_WIDGET": {
                            "backgroundColor": "#c2c2c2",
                            "fontColor": "#000000",
                            "offColor": "#ffffff",
                            "onColor": "#6e8592"
                        }
                    }
                }
            },
            "palette": {
                "darkPrimary": "#c2c2c2",
                "darkSecondary": "#425864",
                "defaultPrimary": "#f5f5f5",
                "defaultSecondary": "#6e8592",
                "lightPrimary": "#ffffff",
                "lightSecondary": "#9db5c2",
                "primaryText": "#000000",
                "secondaryText": "#000000"
            }
        },
        "upgradesPerformed": {
            "flyoutTitleUpgrade": true,
            "headerBrandUpgrade": true,
            "headerTitleUpgrade": true,
            "widgetResizeUpgrade": true
        },
        "widgets": {
            "6e46cac4-a3f4-405b-bb47-3bc37b0f31d1": {
                "externalScripts": [],
                "id": "6e46cac4-a3f4-405b-bb47-3bc37b0f31d1",
                "props": {
                    "html": {
                        "dataType": "DYNAMIC_DATA_TYPE",
                        "force_data": [
                            "STATIC_DATA_TYPE",
                            "DYNAMIC_DATA_TYPE"
                        ],
                        "id": "f8fa6778-49d7-4fa1-9a46-390681099b24",
                        "incoming_parser": {
                            "isDebugOn": false,
                            "value": {
                                "CSS": "td.alert-list-item:hover {\n    background-color: aliceblue !important;\n    cursor: pointer;\n}\n\nth.enabled-col {\n    width: 5em;\n}",
                                "HTML": "\u003ch2\u003eAlert Settings\u003c/h2\u003e\n\n\u003cbutton type=\"button\" id=\"new-rule-btn\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#createRuleModal\"\u003eCreate Rule\u003c/button\u003e\n\n\n\u003ctable class=\"table table-striped\"\u003e\n  \u003cthead\u003e\n    \u003ctr\u003e\n      \u003cth scope=\"col\"\u003eName\u003c/th\u003e\n      \u003cth scope=\"col\" class=\"enabled-col\"\u003eEnabled\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody id=\"alert-list\"\u003e\n\t\u003c!-- this is replaced with dynamic --\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\n\n\u003c/div\u003e",
                                "JavaScript": "const datasource = this.datasource.map(({ data }) =\u003e data)\n\nconst listItems = datasource.map((data) =\u003e {\n  return `\n    \u003ctr\u003e\n      \u003ctd class=\"alert-list-item\" data-item-id=\"${data.item_id}\" data-toggle=\"modal\" data-target=\"#createRuleModal\"\u003e${data.name}\u003c/td\u003e\n      \u003ctd\u003e\n        \u003cdiv class=\"form-check\"\u003e\n          \u003cinput type=\"checkbox\" class=\"form-check-input enabled-check\" data-item-id=\"${data.item_id}\" ${data.disabled ? '' : 'checked'}\u003e\n          \u003cbutton class=\"btn btn-link p-0 delete-alert\" data-item-id=\"${data.item_id}\"\u003etrash\u003c/button\u003e\n        \u003c/div\u003e\n      \u003c/td\u003e\n    \u003c/tr\u003e`\n}).join('')\n\n$('#alert-list').html(listItems)\n\n\n\nif (!datasources.alreadyRendered.latestData()) {\n  console.log('did run firstRender:', datasources.alreadyRendered.latestData())\n  datasources.alreadyRendered.updateCallback(true)\n\n  const datasource = datasources.Alerts.latestData().map(({ data }) =\u003e data)\n\n  const fakeContacts = [\n    { first_name: 'a', email: 'a@b.com' },\n    { first_name: 'jim', email: 'jim@b.com' },\n    { first_name: 'tony', email: 'tony@b.com' },\n    { first_name: 'amy', email: 'amy@b.com' },\n    { first_name: 'aaron', email: 'aaron@b.com' },\n  ]\n\n  const fakeSensors = [\n    \"Temp\", \"DoorOpen\", \"Distance\"\n  ]\n\n\n  $(\"body\").append(\n    ` \n\u003cdiv class=\"modal fade\" id=\"createRuleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"createRuleModalLabel\" aria-hidden=\"true\"\u003e\n\t\u003cdiv class=\"modal-dialog\" role=\"document\"\u003e\n\t\t\u003cdiv class=\"modal-content\"\u003e\n\t\t\t\u003cdiv class=\"modal-header\"\u003e\n\t\t\t\t\u003ch5 class=\"modal-title\" id=\"alert-settings-title\"\u003eModal title\u003c/h5\u003e\n\t\t\t\t\u003cbutton type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"\u003e\n          \u003cspan aria-hidden=\"true\"\u003e\u0026times;\u003c/span\u003e\n        \u003c/button\u003e\n\t\t\t\u003c/div\u003e\n\t\t\t\u003cdiv class=\"modal-body\" id=\"alert-settings\"\u003e\n\t\t\t\t...\n\t\t\t\u003c/div\u003e\n\n\t\t\t\u003cdiv\u003e\n\t\t\t\t\u003cdiv class=\"modal-footer\"\u003e\n\t\t\t\t\t\u003c!--       needs to be here so jquery can add listener, issue attaching to dynamic --\u003e\n\t\t\t\t\t\u003cbutton type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"\u003eCancel\u003c/button\u003e\n\t\t\t\t\t\u003cbutton type=\"submit\" id=\"submit-btn\" class=\"btn btn-primary\"\u003eSubmit\u003c/button\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003c/div\u003e\n\t\t\u003c/div\u003e\n\t\u003c/div\u003e\n  `\n  )\n\n\n\n\n  $(\"#alert-list\").on('click', '.alert-list-item', ({ target }) =\u003e {\n    const alert = datasources.Alerts.latestData().find(({ data }) =\u003e data.item_id === target.dataset.itemId).data\n    alert.contacts = tryParse(alert.contacts) || []\n    alert.rules = tryParse(alert.rules) || []\n    $('#alert-settings-title').html(() =\u003e alert.name)\n    $(\"#alert-settings\").html(() =\u003e {\n      return `\u003cdiv\u003e${FormDiv(alert)}\u003c/div\u003e` \n    })\n  })\n\n  $(\"#alert-list\").on('click', '.delete-alert', ({ target }) =\u003e {\n    if(window.confirm('Are you sure you want to delete this rule?')) {\n      console.log('deleted', target.dataset.itemId)\n    }\n  })\n\n  $(\"#alert-list\").on('click', '.enabled-check', ({ target }) =\u003e {\n    console.log('switched', target.dataset.itemId)\n  })\n\n\n\n  function RuleDiv({sensor = '', operator = '', value = ''} = {}) {\n    return `\n\u003cdiv class=\"rule\"\u003e\n  \u003cdiv class=\"input-group mb-1\"\u003e\n    \u003cselect class=\"custom-select\" id=\"sensor\"\u003e\n      \u003coption selected\u003echoose sensor...\u003c/option\u003e\n      ${fakeSensors.map((name) =\u003e (\n        `\u003coption value=\"${name}\" ${name === sensor ? 'selected' : ''}\u003e${name}\u003c/option\u003e`\n      ))}\n    \u003c/select\u003e\n\n    \u003cselect class=\"custom-select\" id=\"operator\"\u003e\n      \u003coption value=\"EQ\" ${operator === 'EQ' ? 'selected' : ''}\u003eEquals\u003c/option\u003e\n      \u003coption value=\"GT\" ${operator === 'GT' ? 'selected' : ''}\u003eGreater Than\u003c/option\u003e\n      \u003coption value=\"LT\" ${operator === 'LT' ? 'selected' : ''}\u003eLess Than\u003c/option\u003e\n    \u003c/select\u003e\n\n    \u003cinput class=\"form-control\" id=\"value\" value=\"${value}\"\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n`\n  }\n\nfunction TimeoutDiv(timeout) { \n  return `\u003cdiv\u003e\n      \u003cdiv class=\"input-group mb-2\"\u003e\n        \u003cdiv class=\"input-group-prepend\"\u003e\n          \u003cdiv class=\"input-group-text\"\u003eRule broken for\u003c/div\u003e\n        \u003c/div\u003e\n        \u003cinput type=\"number\" class=\"form-control\" id=\"timeout-seconds\" value=\"${timeout}\"\u003e\n        \u003cdiv class=\"input-group-append\"\u003e\n          \u003cdiv class=\"input-group-text\"\u003eseconds before alert\u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e`\n}\n\nconst AndDiv = `\u003cdiv class=\"text-center text-muted mb-1\"\u003eAND\u003c/div\u003e`\n\n  $('.modal-body').on('click', '#add-rule-btn', (e) =\u003e {\n    $(\".rules\").append(`\n    ${AndDiv}\n    ${RuleDiv()}`)\n  })\n\n  function FormDiv({ location = '', contacts = [], contact_method = '', name = '', priority = '', rules = [] } = {}) {\n    console.log({ location, contacts, contact_method, rules })\n    return `\n\u003cform\u003e\n  \u003ch5\u003eRules\u003c/h5\u003e\n\n\u003cdiv class=\"row\"\u003e\n  \u003cdiv class=\"form-group col-sm-6\"\u003e\n    \u003clabel for=\"location\"\u003eLocation\u003c/label\u003e\n    \u003cinput class=\"form-control\" id=\"location\" aria-describedby=\"location\" value=\"${location}\"\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"form-group col-sm-6\"\u003e\n    \u003clabel for=\"assetId\"\u003eAsset Id\u003c/label\u003e\n    \u003cinput class=\"form-control\" id=\"assetId\" aria-describedby=\"assetId\"\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\n  \u003cdiv class=\"rules\"\u003e\n    ${rules.length === 0 ? RuleDiv() : rules.map(rule =\u003e RuleDiv(rule)).join(AndDiv)}\n  \u003c/div\u003e\n\n  \u003cbutton type=\"button\" id=\"add-rule-btn\" class=\"btn btn-secondary my-3\"\u003eAdd rule\u003c/button\u003e\n  ${TimeoutDiv()}  \n\n  \u003chr/\u003e\n\n  \u003ch5\u003eRecipients\u003c/h5\u003e\n\n  \u003cdiv class=\"form-group\"\u003e\n  \u003csmall class=\"form-text text-muted\"\u003eControl click to select multiple\u003c/small\u003e\n    \u003cselect multiple class=\"form-control\" id=\"contacts\"\u003e\n      ${fakeContacts.map((contact) =\u003e (\n        `\u003coption value=\"${contact.email}\" ${contacts.includes(contact.email) ? 'selected' : ''}\u003e${contact.first_name}\u003c/option\u003e`\n      )).join('')}\n    \u003c/select\u003e\n  \u003c/div\u003e\n  \n  \u003cdiv class=\"form-check form-check-inline\" id=\"contact-method\"\u003e\n    \u003cinput class=\"form-check-input\" type=\"radio\" name=\"contactMethod\" id=\"contactMethod1\" value=\"email\" ${contact_method === \"email\" ? 'checked' : ''}\u003e\n    \u003clabel class=\"form-check-label\" for=\"contactMethod1\"\u003e\n      Email\n    \u003c/label\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"form-check form-check-inline\"\u003e\n    \u003cinput class=\"form-check-input\" type=\"radio\" name=\"contactMethod\" id=\"contactMethod2\" value=\"sms\" ${contact_method === \"sms\" ? 'checked' : ''}\u003e\n    \u003clabel class=\"form-check-label\" for=\"contactMethod2\"\u003e\n      SMS\n    \u003c/label\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"form-check form-check-inline\"\u003e\n    \u003cinput class=\"form-check-input\" type=\"radio\" name=\"contactMethod\" id=\"contactMethod3\" value=\"slack\" ${contact_method === \"slack\" ? 'checked' : ''}\u003e\n    \u003clabel class=\"form-check-label\" for=\"contactMethod3\"\u003e\n      Slack\n    \u003c/label\u003e\n  \u003c/div\u003e\n\n  \u003chr/\u003e\n\n  \u003ch5\u003eInfo\u003c/h5\u003e\n\n\u003cdiv class=\"row\"\u003e\n  \u003cdiv class=\"form-group col-sm-6\"\u003e\n    \u003clabel for=\"name\"\u003eName\u003c/label\u003e\n    \u003cinput class=\"form-control\" id=\"name\" value=\"${name}\" aria-describedby=\"assetId\"\u003e\n  \u003c/div\u003e\n\n  \u003cdiv class=\"form-group col-sm-6\"\u003e\n    \u003clabel for=\"priority\"\u003ePriority\u003c/label\u003e\n    \u003cselect class=\"custom-select\" id=\"priority\"\u003e\n      \u003coption value=\"low\" ${priority === \"low\" ? 'selected' : ''}\u003eLow\u003c/option\u003e\n      \u003coption value=\"medium\" ${priority === \"medium\" ? 'selected' : ''}\u003eMedium\u003c/option\u003e\n      \u003coption value=\"high\" ${priority === \"high\" ? 'selected' : ''}\u003eHigh\u003c/option\u003e\n    \u003c/select\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"form-group\"\u003e\n  \u003clabel for=\"message\"\u003eMessage\u003c/label\u003e\n  \u003ctextarea class=\"form-control\" id=\"message\" rows=\"3\"\u003e\u003c/textarea\u003e\n\u003c/div\u003e\n\n\n\u003c/form\u003e\n    `\n  }\n\n  $('body').on('click', '#new-rule-btn', () =\u003e {\n    $('#alert-settings-title').html(() =\u003e \"New Rule\")\n    $(\"#alert-settings\").html(() =\u003e {\n      return FormDiv()\n    })\n  })\n  $('.modal-footer').on('click', '#submit-btn', (e) =\u003e {\n    e.preventDefault();\n\n    const rulesList = []\n    $(\".rule\").each((i, cond) =\u003e {\n      const $cond = $(cond)\n      const condObject = {\n        sensor: $cond.find(\"#sensor\").val(),\n        operator: $cond.find(\"#operator\").val(),\n        value: $cond.find(\"#value\").val(),\n      }\n      rulesList.push(condObject)\n    })\n\n    const data = {\n      location: $(\"#location\").val(),\n      assetId: $(\"#assetId\").val(),\n      contacts: $(\"#contacts\").val(),\n      message: $(\"#message\").val(),\n      priority: $(\"#priority\").val(),\n      name: $(\"#name\").val(),\n      timeout: $(\"#timeout-seconds\").val(),\n      contact_method: $(\"input[name='contactMethod']:checked\").val(),\n      rulesList,\n    }\n\n    console.log(data)\n  })\n\n}\n\nfunction tryParse(str) {\n  if (typeof str !== 'string') {\n    return str\n  }\n  try {\n    return JSON.parse(str)\n  } catch (e) {\n    console.log(str)\n    console.warn(e)\n  }\n}\n\n"
                            }
                        }
                    }
                },
                "tab": "ef3e52f9-a5bc-47fb-8b87-e379bb780959",
                "type": "HTML_WIDGET_COMPONENT"
            },
            "brand": {
                "externalScripts": [],
                "id": "brand",
                "props": {
                    "html": {
                        "dataType": "DYNAMIC_DATA_TYPE",
                        "force_data": [
                            "STATIC_DATA_TYPE",
                            "DYNAMIC_DATA_TYPE"
                        ],
                        "id": "f8fa6778-49d7-4fa1-9a46-390681099b24",
                        "incoming_parser": {
                            "isDebugOn": false,
                            "value": {
                                "CSS": ".underline {\n  text-decoration: underline;\n}\n",
                                "HTML": "\u003cdiv class=\"text-center underline\"\u003e\n  \u003ch2\u003eHTML Widget\u003c/h2\u003e\n\u003c/div\u003e\n",
                                "JavaScript": ""
                            }
                        }
                    }
                },
                "tab": "HEADER",
                "type": "HTML_WIDGET_COMPONENT"
            },
            "flyoutTitle": {
                "externalScripts": [],
                "id": "flyoutTitle",
                "props": {
                    "HAS_UNIQUE_STYLE": true,
                    "fontColor": "#fff",
                    "fontFamily": "Helvetica",
                    "fontSize": 30,
                    "textContent": {
                        "dataType": "CALCULATED_DATA_TYPE",
                        "value": "return portalTitle"
                    }
                },
                "tab": "",
                "type": "TEXT_WIDGET_COMPONENT"
            },
            "title": {
                "externalScripts": [],
                "id": "title",
                "props": {
                    "HAS_UNIQUE_STYLE": true,
                    "fontColor": "#fff",
                    "fontFamily": "Trebuchet MS",
                    "fontSize": 18,
                    "textContent": {
                        "dataType": "CALCULATED_DATA_TYPE",
                        "value": "return portalTitle"
                    }
                },
                "tab": "HEADER",
                "type": "TEXT_WIDGET_COMPONENT"
            }
        }
    },
    "description": "",
    "last_updated": "21 Sep 18 15:21 UTC",
    "name": "tracy_alerts_portal",
    "system_key": "d0f89dba0bc8f7cfb79df2929e2d",
    "type": "custom_v2"
}